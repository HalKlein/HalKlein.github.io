# TCP 和 UDP 的区别


<!--more-->

## 1. UDP协议

**用户数据报协议**（英语：**U**ser **D**atagram **P**rotocol，缩写：**UDP**；又称**用户数据包协议**）是一个简单的面向数据报的通信协议，位于OSI模型的传输层。该协议由 [David P. Reed](https://zh.wikipedia.org/w/index.php?title=David_P._Reed&action=edit&redlink=1) 在1980年设计且在[RFC 768](https://tools.ietf.org/html/rfc768)中被规范。典型网络上的众多使用UDP协议的关键应用在一定程度上是相似的。



![UDP头部结构](https://i.loli.net/2019/12/09/tk53hsSwfUxFKAE.png)



**UDP头部包含了以下几个数据：**

- 两个16位的端口号，分别为源端口（可选）和目标端口
- 数据报的长度
- 数据报的检验和（IPv4 可选字段），该字段用于发现头部信息和数据中的错误

UDP相比于TCP明显要简单很多，因此UDP头部开销小，只有8个字节，在传输数据报文时是很高效的。当然也就不支持错误重传，滑动窗口等精细的控制。

**UDP的特点：**

- 面向非连接，传输数据之前不需要先建立连接。
- 不维护连接状态，支持同时向多个客户端传输相同的消息， 支持一对一、一对多、多对多、多对一的传输方式，也就是说 UDP 提供了单播，多播，广播的功能。
- 数据包报头只有8个字节，额外开销较小
- 吞吐量只受限于数据生成速率、传输速率以及机器性能
- 不可靠：尽最大努力交付，不保证可靠交付，不需要维持复杂的链接状态表
- 面向报文，不对应用程序提交的报文信息进行拆分或者合并

## 2. TCP和UDP的区别

|              | TCP                              | UDP                                    |
| ------------ | -------------------------------- | -------------------------------------- |
| 是否连接     | 面向连接                         | 无连接                                 |
| 可靠性       | 可靠传输，使用流量控制和拥塞控制 | 不可靠传输，不使用流量控制和拥塞控制   |
| 有序性       | 有序                             | 无序                                   |
| 速率         | 慢                               | 快                                     |
| 量级         | 重量级                           | 轻量级                                 |
| 连接对象个数 | 只支持一对一通信                 | 支持一对一，一对多，多对一、多对多通信 |
| 传输方式     | 面向字节流                       | 面向报文                               |
| 首部开销     | 首部最小20字节，最大60字节       | 首部开销小，仅8字节                    |
| 适用场景     | 要求可靠传输的应用，例如文件传输 | 实时应用（IP电话、视频会议、直播等）   |



</br>

<center> ·End </center>
<center> 转载请注明出处: <a href="https://halklein.github.io/">https://halklein.github.io/</a> </center>
